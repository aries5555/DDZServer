syntax = "proto2";

package zhu;

// 消息包最外层
message SelfDescribingMessage
{
    // 消息类型名称，必须为英文，通过消息的GetTypeName()设置
    required bytes type_name = 1;

    // 目的socket值
    repeated int32 socket = 2;

    // 实际消息数据
    required bytes message_data = 3;
}

// 错误消息包
message ErrorMessage
{
    // 错误码
    optional int32 id = 1[default = -1];
    // 错误描述
    optional bytes desc = 2;
}
